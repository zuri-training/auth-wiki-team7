
{% extends 'base.html' %}
{% load static %}

{% block title %} {{library.title}} {% endblock %}
{% load crispy_forms_tags %}


{% block content %}

<div class="library_detail_wrapper">

    

<div class="library_detail_title"  data-aos="zoom-in-up" data-aos-duration="1000">
    <h1>{{ library.title }} Authentication Library</h1>
</div>

<div class="library_informations"  data-aos="zoom-in-up" data-aos-duration="1000">

<div class="library_detail_introduction">
    <h3>Library Introduction</h3>

    <p> {{ library.library_intro }} </p>

</div>


  

<div class="code_sample"  data-aos="zoom-in-up" data-aos-duration="1000">

    <pre>

        <code>  
                 
            {{ library.library_content }}
    
        </code>
      </pre>
 
</div>






       

     




  
    <div class="download_section"  data-aos="zoom-in-up" data-aos-duration="1000">
        {% if user.is_authenticated %}
        <a href="{{library.adminupload.url}}" type="application/octet-stream" download><button>Download Library <i class="fa fa-arrow-down"></i></button></a>
  
       
        {% else %}  
   

    <h5 style="margin-top: 50px; text-align: center; font-size: 15px;">Download is not available for you now, <a href="{% url 'login' %}">Login</a> or <a href="{% url 'signup' %}">SignUp</a> to download the library</h5> 
    {% endif %}
</div>


   









<div class="comment_section"  data-aos="zoom-in-up" data-aos-duration="1000">

  
    <h2>Comments</h2>

    <hr>

     {% for comment in library.comments.all %}
    <div class="commenter">
    <div class="comment_user">
        <img src="{% static 'images/png-transparent-computer-icons-user-profile-user-avatar-blue-heroes-electric-blue.png' %}" alt="">
    <h3>{{ comment.user }}</h3>
    </div>

    
    <p>{{ comment.content}}</p>
    
    <h6> At {{ comment.date_added}}</h6>
</div>
    <hr>
    
    {% endfor %}





    

     <h2>Add New Comment</h2>


     
  
     {% if user.is_authenticated %}
     <form action="{% url 'library_detail' library.slug %}" method="post">
         {% csrf_token %}
    
         <div class="form">
    
   
            {{ comment_form }}
      
         <div class="field">
            <div class="control">
                <button>submit</button>
            </div>
        </div>
        
        </div>
     </form>
    
     {% else %}
     <div style="font-size: 15px;">Only Registered Users Are Allowed To Drop Their Comments. <a href="{% url 'signup' %}">Signup</a> OR <a href="{% url 'login' %}">Login</a></div>
     {% endif %}
    
    </div>




{% if user.is_authenticated %}

    <div id="like_section"  data-aos="zoom-in-up" data-aos-duration="1000">
     
        {% include 'like_section.html' %}
       
         </div>

         {% else %} 

<div class="not_login_like" style="text-align: center; color: white; padding-top: 40px;">
    <p id="like_count" style="color: white; text-align: end;">{{ total_likes }}Like{{ total_likes|pluralize }}</p>
    <button type="submit" class="btn btn" style="background-color: grey; width: fit-content;" > <i class="fa fa-thumbs-up" style="color: blue; font-size: 20px;"></i></button>
    <p><a href="{% url 'signup' %}">Signup</a> OR <a href="{% url 'login' %}">Login</a> to give this a thumbs up</p>     

</div>
         {% endif %} 
       </div>


        </div>
  
 


{% endblock content %}